"Entity","Attribute","Data Type","Constraints","Description"
"User","username","String","required, unique, trim, lowercase","Tên đăng nhập duy nhất của người dùng."
"User","email","String","required, unique, trim, lowercase","Email duy nhất của người dùng, dùng để liên lạc và xác thực."
"User","password","String","select: false","Mật khẩu đã được băm. Không trả về trong các query mặc định."
"User","googleId","String","unique, sparse","ID người dùng từ Google (dành cho đăng nhập OAuth)."
"User","authProvider","String","enum: ['local', 'google'], default: 'local'","Cho biết người dùng đăng ký bằng phương thức nào."
"User","fullName","String","trim","Tên đầy đủ của người dùng."
"User","avatarUrl","String","","URL đến ảnh đại diện của người dùng."
"User","roles","Array<ObjectId>","ref: 'Role'","Mảng các vai trò được gán cho người dùng, quyết định quyền hạn."
"User","isActive","Boolean","default: true","Trạng thái hoạt động của tài khoản."
"User","isEmailVerified","Boolean","default: false","Trạng thái xác thực email của người dùng."
"User","createdAt","Date","timestamps: true","Thời gian tạo tài khoản."
"User","updatedAt","Date","timestamps: true","Thời gian cập nhật tài khoản lần cuối."
"Role","name","String","required, unique, trim","Tên định danh duy nhất cho vai trò (ví dụ: ""admin"")."
"Role","description","String","trim","Mô tả chi tiết về vai trò và trách nhiệm."
"Role","permissions","Array<ObjectId>","ref: 'Permission'","Danh sách các quyền hạn cụ thể mà vai trò này sở hữu."
"Role","isDefault","Boolean","default: false","Đánh dấu vai trò mặc định cho người dùng mới đăng ký."
"Role","createdAt","Date","timestamps: true","Thời gian tạo vai trò."
"Role","updatedAt","Date","timestamps: true","Thời gian cập nhật vai trò lần cuối."
"Permission","name","String","required, unique, enum","Tên quyền hạn duy nhất (ví dụ: ""MANAGE_MOVIES"")."
"Permission","description","String","required","Mô tả chi tiết quyền hạn này cho phép làm gì."
"Permission","isActive","Boolean","default: true","Trạng thái của quyền, cho phép bật/tắt quyền mà không cần xóa."
"Permission","createdAt","Date","timestamps: true","Thời gian tạo quyền."
"Permission","updatedAt","Date","timestamps: true","Thời gian cập nhật quyền lần cuối."
"Token","token","String","required, index","Chuỗi token."
"Token","user","ObjectId","required, ref: 'User'","Người dùng sở hữu token này."
"Token","type","String","required, enum","Loại token (REFRESH, RESET_PASSWORD, VERIFY_EMAIL)."
"Token","expires","Date","required","Thời điểm token hết hạn."
"Token","blacklisted","Boolean","default: false","Đánh dấu token đã bị thu hồi hay chưa (ví dụ: khi logout)."
"Token","createdAt","Date","timestamps: true","Thời gian tạo token."
"Token","updatedAt","Date","timestamps: true","Thời gian cập nhật token lần cuối."
"Movie","title","String","required, trim","Tiêu đề của bộ phim."
"Movie","slug","String","required, unique, trim","Chuỗi định danh duy nhất cho URL, tự động tạo từ title."
"Movie","description","String","required","Tóm tắt nội dung phim."
"Movie","releaseDate","Date","required","Ngày phát hành phim."
"Movie","duration","Number","required","Thời lượng phim (tính bằng phút)."
"Movie","posterUrl","String","","URL đến ảnh poster chính của phim."
"Movie","backdropUrls","Array<String>","","Danh sách các URL đến ảnh nền (backdrop) của phim."
"Movie","trailerUrl","String","","URL video trailer (ví dụ: link YouTube)."
"Movie","videoUrl","String","","URL đến video phim chính."
"Movie","genres","Array<ObjectId>","ref: 'Genre'","Danh sách các thể loại của phim."
"Movie","cast","Array<Object>","","Danh sách diễn viên và vai diễn (actor, characterName)."
"Movie","directors","Array<ObjectId>","ref: 'Person'","Danh sách các đạo diễn của phim."
"Movie","averageRating","Number","default: 0, min: 0, max: 5","Điểm đánh giá trung bình, tự động tính toán từ các Review."
"Movie","status","String","required, enum","Trạng thái phim (Sắp chiếu, Đang chiếu, Đã phát hành)."
"Movie","createdAt","Date","timestamps: true","Thời gian thêm phim vào CSDL."
"Movie","updatedAt","Date","timestamps: true","Thời gian cập nhật thông tin phim lần cuối."
"Genre","name","String","required, unique, trim","Tên thể loại (ví dụ: ""Hành động"")."
"Genre","description","String","trim","Mô tả ngắn về thể loại."
"Person","name","String","required, trim","Tên diễn viên/đạo diễn."
"Person","dob","Date","","Ngày sinh."
"Person","bio","String","","Tiểu sử."
"Person","photoUrl","String","","URL ảnh chân dung."
"Review","user","ObjectId","required, ref: 'User'","Người dùng viết đánh giá."
"Review","movie","ObjectId","required, ref: 'Movie'","Phim được đánh giá."
"Review","rating","Number","required, min: 1, max: 5","Điểm đánh giá (từ 1 đến 5)."
"Review","comment","String","trim","Nội dung bình luận."
"History","user","ObjectId","required, ref: 'User'","Người dùng đã xem."
"History","movie","ObjectId","required, ref: 'Movie'","Phim đã được xem."
"History","progress","Number","required, default: 0","Tiến độ xem phim (ví dụ: thời gian đã xem bằng giây)."
"History","watchedAt","Date","default: Date.now","Thời điểm xem gần nhất, tự động cập nhật."
"History","isFinished","Boolean","default: false","Đánh dấu đã xem hết phim hay chưa."